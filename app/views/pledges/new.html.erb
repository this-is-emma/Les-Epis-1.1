<div class="card m-3 p-4">
    <h2>Please enter the pledge amount:</h2>
    <%= form_with(model: @pledge) do |f| %>
        <% if @pledge.errors.any? %>
            <div class="alert alert-warning">
                <h2><%= pluralize(@pledge.error.count, "error")%> Unable to save this pledge </h2>
                <ul>
                    <% @pledge.error.each do |e| %>
                        <li><%= e.full_message %></li>
                    <% end %>
                </ul>
            </div>
        <% end %>

        <div class="form-group">
            <%= f.label "Select a campaign:" %><br/>
            <%= f.collection_select :campaign_id, Campaign.all, :id, -> (campaign){"#{campaign.name}"}, inclue_blank: false %>
        </div>

        <div class="form-group">
            <%= f.label :amount %><br/>
            <%= f.number_field :amount, step: :any, placeholder: "20.00" %>
        </div>

        <div class="actions">
            <%= f.submit "Pledge",  class: "btn btn-primary mt-2" %>
        </div>
    <% end %>
    <%= link_to "Back", campaigns_path %>
</div>
